{% extends 'generic/object.html' %}
{% load buttons %}
{% load helpers %}
{% load plugins %}

{% block content %}

<div class="tab-content">
    <div class="tab-pane active">
        <div class="card mt-3">
            <h5 class="card-header">Diagram</h5>
            <div class="card-body">
                <div class="mermaid">
                    {{ mermaid_source|safe }}
                </div>
            </div>
        </div>
    </div>
</div>

<!-- <div class="tab-content">
    <div class="tab-pane active">
        <div class="card mt-3">
            <h5 class="card-header">Diagram</h5>
            <div class="card-body">
                <div>
                <pre>
                    mermaid_source|safe 
                </pre>
                </div>
            </div>
        </div>
    </div>
</div> -->

<script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
</script>
{% endblock %}